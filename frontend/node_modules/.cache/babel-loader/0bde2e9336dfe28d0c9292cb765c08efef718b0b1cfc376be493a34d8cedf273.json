{"ast":null,"code":"export default function board() {\n  const boardlook = [['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'], ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'], [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '], ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'], ['R', 'N', 'B', 'K', 'Q', 'B', 'N', 'R']];\n  let diffId = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'];\n  let i, j;\n  let chessboard = document.getElementById('chessboard');\n  for (i = 0; i < 8; i++) {\n    for (j = 0; j < 8; j++) {\n      let box = document.createElement('div');\n      let color = (i + j) % 2 === 0 ? 'white' : 'black';\n      let uniqueid = diffId[j] + i;\n      box.innerText = boardlook[i][j];\n      box.id = uniqueid;\n      box.classList.add(color, 'boxpices');\n      let image = document.createElement('img');\n      if (box.innerText !== ' ') {\n        let src = box.innerText;\n        box.innerText = ' ';\n        image.src = `${src}`;\n        image.classList.add('pices');\n        box.appendChild(image);\n      }\n      chessboard.appendChild(box);\n    }\n  }\n}\nuseEffect(() => {\n  const chessSquares = document.querySelectorAll('.chessSquare');\n  const allPices = document.querySelectorAll('.pices');\n  allPices.forEach(pice => {\n    pice.addEventListener('dragstart', e => {\n      pice.classList.add('dragable');\n      setStart(pice.parentNode.id);\n    });\n    pice.addEventListener('dragend', () => {\n      setEnd(pice.parentNode.id);\n      setPiece(pice.id);\n      pice.classList.remove('dragable');\n    });\n  });\n  chessSquares.forEach(square => {\n    square.addEventListener('dragover', e => {\n      e.preventDefault();\n      const draggingElement = document.querySelector('.dragable');\n      if (draggingElement) {\n        square.appendChild(draggingElement);\n      }\n    });\n  });\n  return () => {\n    allPices.forEach(pice => {\n      pice.removeEventListener('dragstart', () => {});\n      pice.removeEventListener('dragend', () => {});\n    });\n    chessSquares.forEach(square => {\n      square.removeEventListener('dragover', () => {});\n    });\n  };\n}, [Piece, End, Start]);\nconst [Piece, setPiece] = useState('');\nconst [Start, setStart] = useState('');\nconst [End, setEnd] = useState('');\nuseEffect(() => {\n  if (Start && End) {\n    const position = {\n      A: 0,\n      B: 1,\n      C: 2,\n      D: 3,\n      E: 4,\n      F: 5,\n      G: 6,\n      H: 7\n    };\n    const parsePosition = pos => {\n      const [col, row] = pos.split('');\n      return [position[col], Number(row)];\n    };\n    const startpoint = parsePosition(Start);\n    const endpoint = parsePosition(End);\n    const result = isValidMove(startpoint, endpoint, `${Piece}`);\n    console.log(result);\n    const newsocket = io('http://localhost:8000/');\n    newsocket.emit(\"positions\", startpoint, endpoint, [Piece, End, Start]);\n  }\n}, [Piece, Start, End]);","map":{"version":3,"names":["board","boardlook","diffId","i","j","chessboard","document","getElementById","box","createElement","color","uniqueid","innerText","id","classList","add","image","src","appendChild","useEffect","chessSquares","querySelectorAll","allPices","forEach","pice","addEventListener","e","setStart","parentNode","setEnd","setPiece","remove","square","preventDefault","draggingElement","querySelector","removeEventListener","Piece","End","Start","useState","position","A","B","C","D","E","F","G","H","parsePosition","pos","col","row","split","Number","startpoint","endpoint","result","isValidMove","console","log","newsocket","io","emit"],"sources":["/home/blackbird/Documents/chessgame/frontend/src/trial2.js"],"sourcesContent":["\nexport default function board(){const boardlook = [\n    ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],\n    ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],\n    ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],\n    ['R', 'N', 'B', 'K', 'Q', 'B', 'N', 'R'],\n  ];\n\n\n  let diffId = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H']\n  let i, j;\n  let chessboard = document.getElementById('chessboard')\n  for (i = 0; i < 8; i++) {\n    for (j = 0; j < 8; j++) {\n      let box = document.createElement('div')\n      let color = (i + j) % 2 === 0 ? 'white' : 'black';\n      let uniqueid = diffId[j] + i;\n      box.innerText = boardlook[i][j]\n      box.id = uniqueid\n      box.classList.add(color, 'boxpices')\n      let image = document.createElement('img')\n      if (box.innerText !== ' ') {\n        let src = box.innerText\n        box.innerText = ' '\n        image.src = `${src}`\n        image.classList.add('pices')\n        box.appendChild(image)\n      }\n      chessboard.appendChild(box)\n    }\n  }}\n\n  useEffect(() => {\n    const chessSquares = document.querySelectorAll('.chessSquare');\n    const allPices = document.querySelectorAll('.pices');\n    allPices.forEach(pice => {\n      pice.addEventListener('dragstart', (e) => {\n        pice.classList.add('dragable');\n        setStart(pice.parentNode.id)\n      });\n      pice.addEventListener('dragend', () => {\n        setEnd(pice.parentNode.id)\n        setPiece(pice.id)\n        pice.classList.remove('dragable');\n      });\n    });\n\n    chessSquares.forEach(square => {\n      square.addEventListener('dragover', (e) => {\n        e.preventDefault();\n        const draggingElement = document.querySelector('.dragable');\n        if (draggingElement) {\n          square.appendChild(draggingElement);\n        }\n      });\n    });\n    \n    return () => {\n      allPices.forEach(pice => {\n        pice.removeEventListener('dragstart', () => { });\n        pice.removeEventListener('dragend', () => { });\n      });\n\n      chessSquares.forEach(square => {\n        square.removeEventListener('dragover', () => { });\n      });\n    };\n  }, [Piece, End, Start]);\n\n  const [Piece, setPiece] = useState('')\n  const [Start, setStart] = useState('')\n  const [End, setEnd] = useState('')\n\n\n\n \n  useEffect(() => {\n    if (Start && End) {\n      const position = {\n        A: 0, B: 1, C: 2, D: 3, E: 4, F: 5, G: 6, H: 7\n      };\n\n      const parsePosition = (pos) => {\n        const [col, row] = pos.split('');\n        return [position[col], Number(row)];\n      };\n\n      const startpoint = parsePosition(Start);\n      const endpoint = parsePosition(End);\n      const result = isValidMove(startpoint, endpoint, `${Piece}`);\n      console.log(result);\n      const newsocket = io('http://localhost:8000/')\n      newsocket.emit(\"positions\",startpoint,endpoint,[Piece,End,Start])\n    }\n    \n  }, [Piece, Start, End]);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}